webpackJsonp([4],{RNyc:function(t,e){},blGT:function(t,e,i){"use strict";var s={props:{songs:{type:Array}},computed:{},methods:{selectItem:function(t,e){this.$emit("select",t,e)},getDesc:function(t){return t.aliaName?t.singer+" - "+t.aliaName:""+t.singer}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"song-list"},[i("ul",t._l(t.songs,function(e,s){return i("li",{key:e.id,staticClass:"item",on:{click:function(i){i.stopPropagation(),t.selectItem(e,s)}}},[i("p",{staticClass:"count"},[t._v(t._s(s+1))]),t._v(" "),i("div",{staticClass:"content"},[i("h2",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),i("p",{staticClass:"desc"},[t._v(t._s(t.getDesc(e)))])])])}))])},staticRenderFns:[]};var n=i("C7Lr")(s,a,!1,function(t){i("eyvl")},"data-v-2d2dc8be",null);e.a=n.exports},eyvl:function(t,e){},ilRy:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("4YfN"),a=i.n(s),n=i("9rMa"),c=i("0tE7"),o=i("/Nq/"),r=i("KgXo"),l=i("blGT"),d=i("gPkE"),g={data:function(){return{bounce:{top:!1,bottom:!0,left:!1,right:!1},inPage:!1,image:"",id:"",headerTitle:"歌手",songs:[],scrollY:0,imageHeight:null,minTranslateY:null,RESERVED_HEIGHT:null,probeType:3,headerBackground:"rgba(212, 68, 57, 0)",title:"",timer:null,slideName:"up"}},components:{loading:r.a,songList:l.a,scroll:c.a},activated:function(){this.pageActivity(),this.$bus.on("singer-detail-acrive",this.pageActivity)},beforeRouteLeave:function(t,e,i){(t.meta.index||t.meta.parentIndex)<(this.$route.meta.index||this.$route.meta.parentIndex)?(clearTimeout(this.timer),this.inPage=!1,this.songs=[],this.scrollY=0,this.id="",i()):(this.slideName="",this.$nextTick(function(){i()}))},deactivated:function(){},computed:a()({},Object(n.b)(["currentSong"]),{bgStyle:function(){return"background-image: url("+this.image+")"}}),methods:a()({},Object(n.c)({playBySong:"PLAYBYSONG"}),{pageActivity:function(t){var e=this;this.slideName="up",this.inPage=!0,this.$nextTick(function(){(t=t?t.params:e.$route.params)&&t.id&&""+t.id!=""+e.id&&(clearTimeout(e.timer),e.songs=[],e.scrollY=0,e.id=""),e.id||(e.id=t.id,e.image=t.image,e.title=t.title,e.RESERVED_HEIGHT=e.$refs.header.clientHeight,e.imageHeight=e.$refs.bgImage.clientHeight,e.minTranslateY=-e.imageHeight+e.RESERVED_HEIGHT,Object(o.a)(t.id).then(function(t){if((t=t.data).code+""=="200"){var i=t.hotSongs?t.hotSongs:[];e.timer=setTimeout(function(){e.inPage&&(e.songs=i.map(function(t){return Object(d.a)(t)}))},500)}}))})},scroll:function(t){this.scrollY=t.y},select:function(t){var e=this;if(this.currentSong.id&&this.currentSong.id+""==t.id+"")this.slideName="",this.$nextTick(function(){e.$bus.emit("player-show")});else{var i=t;this.playBySong({self:this,song:i})}}}),watch:{scrollY:function(t){var e=Math.abs(t/this.imageHeight);t<this.minTranslateY+this.RESERVED_HEIGHT-20?this.headerTitle=this.title:this.headerTitle="歌手",this.headerBackground=t<0?"rgba(212, 68, 57, "+e+")":"rgba(212, 68, 57, 0)"}}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:t.slideName}},[i("div",{staticClass:"main"},[i("div",{directives:[{name:"immersed1",rawName:"v-immersed1"}],ref:"header",staticClass:"header",style:{background:t.headerBackground}},[i("div",{staticClass:"back",on:{click:function(e){e.stopPropagation(),t.$router.go(-1)}}},[i("strong",{staticClass:"iconback iconfont"})]),t._v(" "),i("div",{staticClass:"text"},[i("h1",{staticClass:"title",staticStyle:{margin:"0",padding:"0",border:"0","font-size":"100%","font-weight":"400","vertical-align":"baseline"}},[t._v(t._s(t.headerTitle))])])]),t._v(" "),i("scroll",{attrs:{listenScroll:!0,"probe-type":t.probeType,data:t.songs,bounce:t.bounce},on:{scroll:t.scroll}},[i("div",{staticStyle:{height:"aoto",width:"100%"}},[i("div",{ref:"bgImage",staticClass:"image",style:t.bgStyle},[i("div",{staticClass:"filter"}),t._v(" "),i("div",{staticClass:"text"},[i("h2",{staticClass:"text-title"},[t._v(t._s(t.title))])])]),t._v(" "),i("div",{class:t.currentSong.id?"song-list-wrapper haveplayer":"song-list-wrapper"},[i("div",{staticClass:"sequence-play"},[i("i",{staticClass:"iconfont icon-bofangicon"}),t._v(" "),i("span",{staticClass:"text"},[t._v("播放全部")]),t._v(" "),i("span",{staticClass:"count"},[t._v("(共"+t._s(t.songs.length)+"首)")])]),t._v(" "),i("songList",{attrs:{songs:t.songs},on:{select:t.select}})],1)])]),t._v(" "),0===t.songs.length?i("div",{staticClass:"loading-content"},[i("loading")],1):t._e()],1)])},staticRenderFns:[]};var h=i("C7Lr")(g,u,!1,function(t){i("RNyc")},"data-v-4ba37310",null);e.default=h.exports}});
//# sourceMappingURL=4.53534c2856df34f64c63.js.map